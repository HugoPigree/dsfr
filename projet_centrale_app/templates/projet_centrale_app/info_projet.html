{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informations - {{ projet.titre }}</title>
    <!-- Inclusion de DSFR et Tailwind CSS -->
    <link href="{% static 'dsfr.min.css' %}" rel="stylesheet" />
    <link href="{% static 'output.css' %}" rel="stylesheet">

</head>
<body class="flex flex-col min-h-screen">
    <!-- Header -->
    {% include 'projet_centrale_app/partials/header.html' %}


    <main class="fr-container my-8 space-y-10">
        <!-- Titre principal -->
        <div class="text-center">
            <h1 class="text-4xl font-bold text-gray-800">{{ projet.titre }}</h1>
        </div>

        <!-- Détails du projet -->
        <section class="bg-white shadow-md p-6 rounded-lg">
            <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Détails du projet</h2>
            <div class="grid grid-cols-1 gap-2">
                <p><strong>Priorité :</strong> {{ projet.priorite }}</p>
                <p><strong>Date de début :</strong> {{ projet.date_debut }}</p>
                <p><strong>Date de fin souhaitée :</strong> {{ projet.date_fin_souhaitee }}</p>
                <p><strong>Catégorie :</strong> {{ projet.categorie.nom }}</p>
                <p><strong>Description :</strong> {{ projet.description }}</p>
                <p><strong>Lien du site :</strong> {{ projet.lien }}</p>
            </div>
        </section>

        <!-- Organisation -->
        <section class="bg-white shadow-md p-6 rounded-lg">
            <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Organisation</h2>
            <div class="grid grid-cols-2 gap-4">
                <p><strong>SD :</strong> {{ organisation.sd }}</p>
                <p><strong>MOA :</strong> {{ organisation.moa }}</p>
                <p><strong>MOE :</strong> {{ organisation.moe }}</p>
                <p><strong>Prestataire :</strong> {{ organisation.prestataire }}</p>
            </div>
        </section>

        <!-- Planning prévisionnel -->
        <section class="bg-white shadow-md p-6 rounded-lg">
            <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Planning prévisionnel</h2>
            <div class="grid grid-cols-2 gap-4">
                <p><strong>Durée prévue :</strong> {{ planning.duree_prevue }}</p>
                <p><strong>Nombre d'ETP estimé :</strong> {{ planning.nombre_etp_estime }}</p>
            </div>
        </section>

        <!-- Maturité du projet -->
         <section class="bg-white shadow-md p-6 rounded-lg mb-8">
    <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Maturité du projet</h2>
    <div class="grid grid-cols-2 gap-4">
        <p><strong>Plan de charge :</strong>
            {% if maturite.plan_de_charge %}
                <a href="{{ maturite.plan_de_charge.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.plan_de_charge_commentaire }}</p>

        <p><strong>FEB :</strong>
            {% if maturite.feb %}
                <a href="{{ maturite.feb.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.feb_commentaire }}</p>

        <p><strong>Note de cadrage :</strong>
            {% if maturite.note_de_cadrage %}
                <a href="{{ maturite.note_de_cadrage.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.note_de_cadrage_commentaire }}</p>

        <p><strong>Cahier des charges :</strong>
            {% if maturite.cahier_des_charges %}
                <a href="{{ maturite.cahier_des_charges.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.cahier_des_charges_commentaire }}</p>

        <p><strong>Fonctionne :</strong>
            {% if maturite.fonctionne %}
                <a href="{{ maturite.fonctionne.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.fonctionne_commentaire }}</p>

        <p><strong>DAT :</strong>
            {% if maturite.dat %}
                <a href="{{ maturite.dat.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.dat_commentaire }}</p>

        <p><strong>Documentation utilisateurs :</strong>
            {% if maturite.documentation_utilisateurs %}
                <a href="{{ maturite.documentation_utilisateurs.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.documentation_utilisateurs_commentaire }}</p>

        <p><strong>Demande SSO :</strong>
            {% if maturite.demande_sso %}
                <a href="{{ maturite.demande_sso.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.demande_sso_commentaire }}</p>

        <p><strong>Demande d'hébergement :</strong>
            {% if maturite.demande_hebergement %}
                <a href="{{ maturite.demande_hebergement.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.demande_hebergement_commentaire }}</p>

        <p><strong>Fiche registre :</strong>
            {% if maturite.fiche_registre %}
                <a href="{{ maturite.fiche_registre.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.fiche_registre_commentaire }}</p>

        <p><strong>Note d'orientation SSI :</strong>
            {% if maturite.note_orientation_ssi %}
                <a href="{{ maturite.note_orientation_ssi.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.note_orientation_ssi_commentaire }}</p>

        <p><strong>Analyse de risque :</strong>
            {% if maturite.analyse_de_risque %}
                <a href="{{ maturite.analyse_de_risque.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.analyse_de_risque_commentaire }}</p>

        <p><strong>Homologation :</strong>
            {% if maturite.homologation %}
                <a href="{{ maturite.homologation.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
            {% else %}
                Non disponible
            {% endif %}
        </p>
        <p><strong>Commentaire :</strong> {{ maturite.homologation_commentaire }}</p>
    </div>
</section>



        <!-- Budget -->
        <section class="bg-white shadow-md p-6 rounded-lg mb-8">
            <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Budget</h2>
            <div class="grid grid-cols-2 gap-4">
                <p><strong>Hébergement :</strong>
                    {% if budget.hebergement %}
                        <a href="{{ budget.hebergement.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
                    {% else %}
                        Non disponible
                    {% endif %}
                </p>
                <p><strong>Commentaire :</strong> {{ budget.hebergement_commentaire }}</p>

                <p><strong>Homologation :</strong>
                    {% if budget.homologation %}
                        <a href="{{ budget.homologation.url }}" download class="fr-btn fr-btn--sm">Télécharger</a>
                    {% else %}
                        Non disponible
                    {% endif %}
                </p>
                <p><strong>Commentaire :</strong> {{ budget.homologation_budget_commentaire }}</p>
            </div>
        </section>

        <!-- Caractéristiques techniques -->
        <section class="bg-white shadow-md p-6 rounded-lg">
            <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Caractéristiques techniques</h2>
            <div class="grid grid-cols-2 gap-4">
                <p><strong>OS Serveur :</strong> {{ caracteristiques.os_serveur }}</p>
                <p><strong>Type d'hébergement :</strong> {{ caracteristiques.type_hebergement }}</p>
                <p><strong>Technologies utilisées :</strong> {{ caracteristiques.techno_utilisees }}</p>
                <p><strong>Authentification :</strong> {{ caracteristiques.authentification }}</p>
            </div>
        </section>

        <!-- Avancements -->
        <section class="bg-white shadow-md p-6 rounded-lg">
            <h2 class="text-xl font-bold border-b-2 border-gray-200 pb-2 mb-4">Avancements</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <p><strong>Avancée du projet :</strong> {{ avancement_projet.choix }}</p>
                </div>
            </div>
        </section>

            <a href="{% url 'telecharger_fiche_projet' projet.id %}" class="fr-btn">
    Télécharger la fiche PDF
</a>


    </main>

    <!-- Footer -->
    {% include 'projet_centrale_app/partials/footer.html' %}
</body>
</html>
